{% extends '@App/Circle/base_circle.html.twig' %}

{% block form_block %}
<div class="row">
    {{ form_start(form) }}
    <h2 style="text-align: center;">{{ form.name.vars.value }}</h2>
    {% if form_errors(form) is not empty %}
        <div class="form-group">
            {{ form_errors(form) }}
        </div>
    {% endif %}
    <div class="form-group create_circle">
        {{ form_errors(form.name) }}
        {{ form_widget(form.name) }}
    </div>
    <div class="form-group">
        {{ form_errors(form.countLayer) }}
        {{ form_widget(form.countLayer) }}
    </div>

    <h2 style="text-align: center;">Категории</h2>
    <div class="sectors" data-prototype='<div id="circle_sectors___name__" class="form-group
        create_sector"><input type="text" id="circle_sectors___name___name" name="circle[sectors][__name__][name]"
        required="required" placeholder="Название категории" class="form-control"/><input type="color"
        id="circle_sectors___name___color" name="circle[sectors][__name__][color]" required="required"
        placeholder="Цвет" value="#FFD700" class="form-control"/></div>'>
        {% for sector in form.sectors %}
            <div class="form-group create_sector">
                {{ form_row(sector.name)|replace({'<div>': '','</div>': ''})|raw }}
                {{ form_row(sector.color)|replace({'<div>': '','</div>': ''})|raw }}
            </div>
        {% endfor %}
    </div>
    <div class="form-group form_submit">
        <input class="btn btn-success btn-block" name="save" value="Сохранить" type="submit"/>
    </div>
    {{ form_end(form) }}
</div>
{% endblock %}

